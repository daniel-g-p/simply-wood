(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-613dee4a"],{"03ee":function(e,t,a){"use strict";var n=a("7a23"),o=function(e){return Object(n["z"])("data-v-35c22f67"),e=e(),Object(n["x"])(),e},c={class:"nav"},i=o((function(){return Object(n["i"])("svg",{class:"nav__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{"fill-rule":"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(n["i"])("path",{"fill-rule":"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})],-1)})),l=o((function(){return Object(n["i"])("svg",{class:"nav__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{d:"M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}),Object(n["i"])("path",{d:"M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2zM14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1zM2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1h-10z"})],-1)})),r=o((function(){return Object(n["i"])("svg",{class:"nav__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),Object(n["i"])("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1)})),s=o((function(){return Object(n["i"])("svg",{class:"nav__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{"fill-rule":"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"}),Object(n["i"])("path",{"fill-rule":"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"})],-1)})),d=[s];function u(e,t,a,o,s,u){var g=Object(n["E"])("router-link");return Object(n["w"])(),Object(n["h"])("nav",c,[Object(n["l"])(g,{to:o.links.home,class:"nav__link"},{default:Object(n["K"])((function(){return[i]})),_:1},8,["to"]),Object(n["l"])(g,{to:o.links.images,class:"nav__link"},{default:Object(n["K"])((function(){return[l]})),_:1},8,["to"]),Object(n["l"])(g,{to:o.links.user,class:"nav__link"},{default:Object(n["K"])((function(){return[r]})),_:1},8,["to"]),Object(n["i"])("button",{href:"/",class:"nav__link",onClick:t[0]||(t[0]=function(){return o.logout&&o.logout.apply(o,arguments)})},d)])}a("d3b7");var g=a("6c02"),m=a("5502"),b={setup:function(){var e=Object(g["c"])(),t=Object(m["b"])(),a={home:{name:"frHome"},images:{name:"adminImages"},user:{name:"user"}},n=function(){t.dispatch("admin/toggleLoader"),fetch("".concat("https://www.simplywood.be/api","/users/logout")).then((function(e){return e.json()})).then((function(t){t.ok&&e.push({name:"login"})})).catch((function(e){console.log(e)})).finally((function(){t.dispatch("admin/toggleLoader")}))};return{links:a,logout:n}}},f=(a("f5d8"),a("6b0d")),p=a.n(f);const v=p()(b,[["render",u],["__scopeId","data-v-35c22f67"]]);t["a"]=v},"0a95":function(e,t,a){},"0b41":function(e,t,a){},"2eb2":function(e,t,a){},"4afd":function(e,t,a){"use strict";a("2eb2")},"4e6b":function(e,t,a){"use strict";a("f372")},"568a":function(e,t,a){},"5da1":function(e,t,a){"use strict";a("0b41")},6506:function(e,t,a){"use strict";var n=a("7a23"),o={class:"title"};function c(e,t){return Object(n["w"])(),Object(n["h"])("h1",o,[Object(n["D"])(e.$slots,"default",{},void 0,!0)])}a("4e6b");var i=a("6b0d"),l=a.n(i);const r={},s=l()(r,[["render",c],["__scopeId","data-v-09ad1e60"]]);t["a"]=s},"6e8a":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o={class:"images"},c=Object(n["k"])("Images"),i={key:0,class:"images__list"},l={key:1,class:"images__info-message"};function r(e,t,a,r,s,d){var u=Object(n["E"])("base-alert"),g=Object(n["E"])("add-images-form"),m=Object(n["E"])("base-modal"),b=Object(n["E"])("admin-navigation"),f=Object(n["E"])("admin-title"),p=Object(n["E"])("category-options"),v=Object(n["E"])("add-images-button"),h=Object(n["E"])("images-item");return Object(n["w"])(),Object(n["h"])("main",o,[Object(n["l"])(u,{visible:r.alertData.active,onClose:r.toggleAlert},{default:Object(n["K"])((function(){return[Object(n["k"])(Object(n["H"])(r.alertData.message),1)]})),_:1},8,["visible","onClose"]),Object(n["l"])(m,{open:r.addImageModalOpen,onClose:r.toggleAddImageModal},{default:Object(n["K"])((function(){return[Object(n["l"])(g)]})),_:1},8,["open","onClose"]),Object(n["l"])(b),Object(n["l"])(f,null,{default:Object(n["K"])((function(){return[c]})),_:1}),Object(n["l"])(p,{modelValue:r.activeCategory,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.activeCategory=e}),onFailed:r.toggleAlert},null,8,["modelValue","onFailed"]),r.activeCategory?(Object(n["w"])(),Object(n["h"])("div",i,[Object(n["l"])(v,{categoryId:r.activeCategory,onAddImages:r.fetchImages,onFailed:r.toggleAlert},null,8,["categoryId","onAddImages","onFailed"]),(Object(n["w"])(!0),Object(n["h"])(n["a"],null,Object(n["C"])(r.images,(function(e){return Object(n["w"])(),Object(n["f"])(h,{key:e._id,imageId:e._id,imageUrl:e.imageUrl,isMainImage:e.imageUrl===r.mainImage,onEmitError:r.toggleAlert,onDeleteImage:r.deleteImage},null,8,["imageId","imageUrl","isMainImage","onEmitError","onDeleteImage"])})),128))])):(Object(n["w"])(),Object(n["h"])("p",l,"Aucune catégorie choisie."))])}a("7db0"),a("d3b7"),a("99af");var s=a("5502"),d=a("6506"),u=a("03ee"),g=function(e){return Object(n["z"])("data-v-67e84c80"),e=e(),Object(n["x"])(),e},m={class:"category"},b={class:"category__select-box"},f=["value"],p=g((function(){return Object(n["i"])("option",{disabled:"",selected:"",value:""},"-- Catégorie --",-1)})),v=["value"],h=g((function(){return Object(n["i"])("div",{class:"category__select-icon-box"},[Object(n["i"])("svg",{class:"category__select-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})])],-1)})),j={class:"category__buttons"},O=g((function(){return Object(n["i"])("svg",{class:"category__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1)})),w=[O],y=["disabled"],_=g((function(){return Object(n["i"])("svg",{class:"category__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1)})),I=[_],M=["disabled"],V=g((function(){return Object(n["i"])("svg",{class:"category__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n["i"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),C=[V];function A(e,t,a,o,c,i){var l=Object(n["E"])("category-form");return Object(n["w"])(),Object(n["h"])("div",m,[Object(n["l"])(l,{mode:o.modalMode,"category-id":o.activeCategory,onClose:o.setModalMode,onFailed:o.formFailed},null,8,["mode","category-id","onClose","onFailed"]),Object(n["i"])("div",b,[Object(n["i"])("select",{name:"category",id:"category",class:"category__select",value:a.modelValue,onChange:t[0]||(t[0]=function(){return o.setCategory&&o.setCategory.apply(o,arguments)})},[p,(Object(n["w"])(!0),Object(n["h"])(n["a"],null,Object(n["C"])(o.categories,(function(e){return Object(n["w"])(),Object(n["h"])("option",{key:e._id,value:e._id},Object(n["H"])(e.frName),9,v)})),128))],40,f),h]),Object(n["i"])("div",j,[Object(n["i"])("button",{class:"category__button",onClick:t[1]||(t[1]=function(e){return o.setModalMode("add")})},w),Object(n["i"])("button",{class:"category__button",onClick:t[2]||(t[2]=function(e){return o.setModalMode("edit")}),disabled:!o.activeCategory},I,8,y),Object(n["i"])("button",{class:"category__button",onClick:t[3]||(t[3]=function(e){return o.setModalMode("delete")}),disabled:!o.activeCategory},C,8,M)])])}var z={key:0,class:"form__delete"},k={key:1,class:"form__fields"};function x(e,t,a,o,c,i){var l=Object(n["E"])("base-textbox"),r=Object(n["E"])("base-button"),s=Object(n["E"])("base-modal");return Object(n["w"])(),Object(n["f"])(s,{open:!!a.mode,onClose:o.closeModal},{default:Object(n["K"])((function(){return[Object(n["i"])("form",{class:"form",onSubmit:t[4]||(t[4]=Object(n["L"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},["delete"===o.watchMode?(Object(n["w"])(),Object(n["h"])("p",z," Es-tu sûr de vouloir supprimer cette catégorie et toutes ses images? ")):(Object(n["w"])(),Object(n["h"])("div",k,[Object(n["l"])(l,{id:"categoryNameFr",label:"Nom de la catégorie (FR)",modelValue:o.input.fr,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.input.fr=e})},null,8,["label","modelValue"]),Object(n["l"])(l,{id:"categoryNameNl",label:"Nom de la catégorie (NL)",modelValue:o.input.nl,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.input.nl=e})},null,8,["label","modelValue"]),Object(n["l"])(l,{id:"categoryNameEn",label:"Nom de la catégorie (EN)",modelValue:o.input.en,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.input.en=e})},null,8,["label","modelValue"]),Object(n["l"])(l,{id:"categoryNameDe",label:"Nom de la catégorie (DE)",modelValue:o.input.de,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.input.de=e})},null,8,["label","modelValue"])])),Object(n["l"])(r,null,{default:Object(n["K"])((function(){return[Object(n["k"])(Object(n["H"])(o.buttonText),1)]})),_:1})],32)]})),_:1},8,["open","onClose"])}a("caad"),a("e9c4");var E=a("6c02"),L={props:{mode:{type:String,required:!0,validator:function(e){return["","add","edit","delete"].includes(e)}},categoryId:{type:String,default:""}},emits:["close","failed"],setup:function(e,t){var a=t.emit,o=Object(s["b"])(),c=Object(E["c"])(),i=Object(n["A"])({fr:"",nl:"",en:"",de:""}),l=Object(n["d"])((function(){return e.mode}));Object(n["J"])(l,(function(t){if("edit"===t&&e.categoryId){var a=o.getters["admin/categories"],n=a.find((function(t){return t._id===e.categoryId})),c=n.frName,l=n.nlName,r=n.enName,s=n.deName;i.fr=c,i.nl=l,i.en=r,i.de=s}else i.fr="",i.nl="",i.en="",i.de=""}));var r=Object(n["d"])((function(){switch(l.value){case"add":return"Ajouter";case"edit":return"Modifier";case"delete":return"Supprimer";default:return""}})),d=function(){a("close")},u=function(){console.log("SUMBIT");var t="delete"===l.value;if(t||i.fr&&i.nl&&i.en&&i.de){var n="add"===l.value,r=t?{url:"".concat("https://www.simplywood.be/api","/images/categories/").concat(e.categoryId),options:{method:"DELETE",credentials:"include"}}:{url:n?"".concat("https://www.simplywood.be/api","/images/categories"):"".concat("https://www.simplywood.be/api","/images/categories/").concat(e.categoryId),options:{method:n?"POST":"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:i})}};d(),o.dispatch("admin/toggleLoader"),fetch(r.url,r.options).then((function(e){return e.json()})).then((function(e){e.ok?(t&&c.go(),o.dispatch("admin/setCategories")):a("failed",e.message)})).catch((function(e){console.log(e)})).finally((function(){o.dispatch("admin/toggleLoader")}))}};return{watchMode:l,buttonText:r,closeModal:d,input:i,submitForm:u}}},F=(a("dc53"),a("6b0d")),N=a.n(F);const S=N()(L,[["render",x],["__scopeId","data-v-6980a9bd"]]);var H=S,B={components:{CategoryForm:H},props:{modelValue:{type:String,required:!0}},emits:["update:modelValue","failed"],setup:function(e,t){var a=t.emit,o=Object(s["b"])(),c=Object(n["d"])((function(){return o.getters["admin/categories"]})),i=Object(n["d"])((function(){return o.getters["admin/activeCategory"]})),l=function(e){a("update:modelValue",e.target.value)},r=Object(n["B"])(""),d=function(e){r.value=e||""},u=function(e){a("failed",e)};return Object(n["u"])((function(){o.dispatch("admin/setCategories")})),{categories:c,activeCategory:i,setCategory:l,modalMode:r,setModalMode:d,formFailed:u}}};a("fdf1");const D=N()(B,[["render",A],["__scopeId","data-v-67e84c80"]]);var U=D,T=function(e){return Object(n["z"])("data-v-3bc25c16"),e=e(),Object(n["x"])(),e},J={class:"item"},K=["src"],q={class:"item__controls"},P=T((function(){return Object(n["i"])("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},null,-1)})),$=[P],R=T((function(){return Object(n["i"])("svg",{class:"item__icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},[Object(n["i"])("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n["i"])("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)})),W=[R];function Z(e,t,a,o,c,i){return Object(n["w"])(),Object(n["h"])("div",J,[Object(n["i"])("img",{src:a.imageUrl,alt:"Image",class:"item__image"},null,8,K),Object(n["i"])("div",q,[Object(n["i"])("button",{class:"item__button",onClick:t[0]||(t[0]=function(){return o.makeFavorite&&o.makeFavorite.apply(o,arguments)})},[(Object(n["w"])(),Object(n["h"])("svg",{class:Object(n["r"])(["item__icon",o.isMainImageClass]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},$,2))]),Object(n["i"])("button",{class:"item__button",onClick:t[1]||(t[1]=function(){return o.deleteImage&&o.deleteImage.apply(o,arguments)})},W)])])}var G={props:{imageId:{type:String,required:!0},imageUrl:{type:String,required:!0},isMainImage:{type:Boolean,required:!0}},emits:["emit-error","delete-image"],setup:function(e,t){var a=t.emit,o=Object(s["b"])(),c=Object(n["d"])((function(){return o.getters["admin/activeCategory"]})),i=Object(n["d"])((function(){return{"item__icon--highlight":e.isMainImage}})),l=function(){if(!e.isMainImage){var t="".concat("https://www.simplywood.be/api","/images/categories/set-main-image/").concat(c.value),n={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e.imageUrl})};o.dispatch("admin/toggleLoader"),fetch(t,n).then((function(e){return e.json()})).then((function(t){if(t.ok){var n={categoryId:c.value,imageUrl:e.imageUrl};o.dispatch("admin/updateMainImage",n)}else a("emit-error",t.message)})).catch((function(e){console.log(e)})).finally((function(){o.dispatch("admin/toggleLoader")}))}},r=function(){if(e.isMainImage)a("emit-error","Impossible de supprimer l'image principale.");else{var t=e.imageId,n="".concat("https://www.simplywood.be/api","/images/").concat(t),c={method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:t})};o.dispatch("admin/toggleLoader"),fetch(n,c).then((function(e){return e.json()})).then((function(e){e.ok?a("delete-image",t):a("emit-error",e.message)})).catch((function(e){console.log(e)})).finally((function(){o.dispatch("admin/toggleLoader")}))}};return{isMainImageClass:i,makeFavorite:l,deleteImage:r}}};a("5da1");const Q=N()(G,[["render",Z],["__scopeId","data-v-3bc25c16"]]);var X=Q,Y={class:"button",for:"images"},ee=Object(n["j"])('<div class="button__content"><svg class="button__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"></path><path d="M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"></path></svg><p class="button__text">Ajouter</p></div>',1);function te(e,t,a,o,c,i){return Object(n["w"])(),Object(n["h"])("label",Y,[Object(n["i"])("input",{class:"button__input",type:"file",name:"images",id:"images",accept:"image/png, image/jpeg",multiple:"",onChange:t[0]||(t[0]=function(){return o.uploadImages&&o.uploadImages.apply(o,arguments)})},null,32),ee])}var ae=a("b85c"),ne={props:{categoryId:{type:String,required:!0}},emits:["add-images","failed"],setup:function(e,t){var a=t.emit,n=Object(s["b"])(),o=function(t){var o,c=t.target.files,i=new FormData,l=Object(ae["a"])(c);try{for(l.s();!(o=l.n()).done;){var r=o.value;i.append("images",r)}}catch(d){l.e(d)}finally{l.f()}var s={url:"".concat("https://www.simplywood.be/api","/images/upload-images/").concat(e.categoryId),options:{method:"POST",credentials:"include",body:i}};n.dispatch("admin/toggleLoader"),fetch(s.url,s.options).then((function(e){return e.json()})).then((function(e){e.ok?a("add-images"):a("failed",e.message)})).catch((function(e){console.log(e)})).finally((function(){n.dispatch("admin/toggleLoader")}))};return{uploadImages:o}}};a("4afd");const oe=N()(ne,[["render",te]]);var ce=oe;function ie(e,t){return Object(n["w"])(),Object(n["h"])("p",null,"Hello World")}const le={},re=N()(le,[["render",ie]]);var se=re,de={components:{AdminTitle:d["a"],AdminNavigation:u["a"],CategoryOptions:U,ImagesItem:X,AddImagesButton:ce,AddImagesForm:se},setup:function(){var e=Object(s["b"])(),t=Object(n["B"])(""),a=Object(n["d"])((function(){var a=e.getters["admin/categories"],n=a.find((function(e){return e._id===t.value})),o=n.mainImage;return o})),o=Object(n["B"])([]),c=Object(n["A"])({active:!1,message:""}),i=function(e){c.message=e||"",c.active=!!e},l=Object(n["B"])(!1),r=function(){l.value=!l.value},d=function(){var a="".concat("https://www.simplywood.be/api","/images/categories/").concat(t.value);e.dispatch("admin/toggleLoader"),fetch(a).then((function(e){return e.json()})).then((function(e){o.value=e.images})).catch((function(e){console.log(e)})).finally((function(){e.dispatch("admin/toggleLoader")}))};Object(n["J"])(t,(function(t){e.dispatch("admin/setActiveCategory",t),d()}));var u=function(t){var a={url:"".concat("https://www.simplywood.be/api","/images/").concat(t),options:{method:"DELETE",credentials:"include"}};e.dispatch("admin/toggleLoader"),fetch(a.url,a.options).then((function(){return d()})).catch((function(e){console.log(e),i(e.message)})).finally((function(){e.dispatch("admin/toggleLoader")}))};return{activeCategory:t,images:o,mainImage:a,alertData:c,toggleAlert:i,addImageModalOpen:l,toggleAddImageModal:r,deleteImage:u,fetchImages:d}}};a("f855");const ue=N()(de,[["render",r],["__scopeId","data-v-5692a21c"]]);t["default"]=ue},a28c:function(e,t,a){},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var n=a("06c5");function o(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){r=!0,i=e},f:function(){try{l||null==a["return"]||a["return"]()}finally{if(r)throw i}}}}},dc53:function(e,t,a){"use strict";a("0a95")},e9c4:function(e,t,a){var n=a("23e7"),o=a("da84"),c=a("d066"),i=a("2ba4"),l=a("e330"),r=a("d039"),s=o.Array,d=c("JSON","stringify"),u=l(/./.exec),g=l("".charAt),m=l("".charCodeAt),b=l("".replace),f=l(1..toString),p=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,h=/^[\uDC00-\uDFFF]$/,j=function(e,t,a){var n=g(a,t-1),o=g(a,t+1);return u(v,e)&&!u(h,o)||u(h,e)&&!u(v,n)?"\\u"+f(m(e,0),16):e},O=r((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&n({target:"JSON",stat:!0,forced:O},{stringify:function(e,t,a){for(var n=0,o=arguments.length,c=s(o);n<o;n++)c[n]=arguments[n];var l=i(d,null,c);return"string"==typeof l?b(l,p,j):l}})},f372:function(e,t,a){},f3e1:function(e,t,a){},f5d8:function(e,t,a){"use strict";a("a28c")},f855:function(e,t,a){"use strict";a("568a")},fdf1:function(e,t,a){"use strict";a("f3e1")}}]);
//# sourceMappingURL=chunk-613dee4a.ce0f45dd.js.map